// import Mjdesktop from './views/Mjdesktop'
// 程序入口
class LayaAir3D {
  private mjdesktop: Laya.Scene
  private mjhandpai: Laya.Scene
  private tablecloth: Laya.Sprite3D
  private main_camera: Laya.Camera
  private room: Laya.Sprite3D
  private light: Laya.SpotLight
  constructor() {
    //初始化引擎
    Laya3D.init(0, 0, true)

    //适配模式
    Laya.stage.scaleMode = Laya.Stage.SCALE_FULL
    Laya.stage.screenMode = Laya.Stage.SCREEN_NONE
  }
  onload() {
    this.mjdesktop = Laya.Scene.load('res/scene/mjdesktop.ls')
    this.mjhandpai = Laya.Scene.load('res/scene/mjhandpai.ls')
    this.main_camera = this.mjdesktop.getChildByName(
      'main_camera'
    ) as Laya.Camera
    this.room = this.mjdesktop.getChildByName('room') as Laya.Sprite3D
    this.tablecloth = Laya.Sprite3D.load('res/scene/tablecloth_default.lh')
  }
  init() {
    //添加方向光
    this.light = new Laya.SpotLight()
    //设置聚光的位置
    this.light.transform.position = new Laya.Vector3(0, 5, 0)
    //设置聚光的衰减
    this.light.attenuation = new Laya.Vector3(0.1, 0, 0.1)
    //设置聚光的方向
    this.light.direction = new Laya.Vector3(0, -1, 0)
    //设置聚光范围
    this.light.range = 15
    //设置聚光值
    this.light.spot = 15
  }
  onComplete() {
    Laya.stage.addChild(this.mjdesktop)
    this.mjdesktop.addChild(this.tablecloth)
    this.mjdesktop.addChild(this.light)
  }
}
var layaProject = new LayaAir3D()
layaProject.onload()
layaProject.init()
layaProject.onComplete()
